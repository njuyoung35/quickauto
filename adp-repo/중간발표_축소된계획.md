# **Autoware Simple Planning Simulator + ForzaETH Global/Local Planner**

시뮬레이터 → Autoware 것 참고

lanelet2 지도 → Autoware 기본 제공 

perception → Autoware 시뮬 제공 

컨트롤 노드  → Autoware 것 참고

글로벌/로컬 플래너 → forzaETH 변형

---

### lanelet2 map을 simple_planning_simulator가 직접 로드 << 안돼. RVIZ2 써야함

→ 우리가 map을 처리할 필요 없음
→ 도심형 lane 구조 그대로 제공됨

### ForzaETH Planner는 센서 데이터만 받아서 경로 계산

→ Autoware Perception 대신 simple_planning_simulator의 ground_truth 장애물 사용
→ topic 변환만 해주면 Spliner와 호환

### Autoware Localization(EKF/NDT) 필요 없음

→ simple_planning_simulator가 ego pose를 자동으로 발행함

### lanelet 지도는 Autoware에 기본 제공됨

→ Autoware Universe:
    lanelet2 지도 파일
    OSM map
    vector_map
    traffic_light_map
    crosswalk_map

### lanelet2 데이터를 publish하는 노드
Autoware Universe에서 lanelet 데이터를 제공하는 노드:

→ map_loader
    map 전체 로딩
    pointcloud_map / lanelet2_map 로딩

→ lanelet2_map_provider
    lanelet2 data → Autoware format으로 publish
    centerline
    left boundary
    right boundary
    stop line
    crosswalk . . . 

→ /map 관련 토픽들
    /map/map_projector_info
    /map/pointcloud_map
    /map/vector_map
    /map/lanelet2_map

---

### ForzaETH Planner 입력

| 필요한 입력           | Autoware에서 받을 토픽                                                     |
| ---------------- | -------------------------------------------------------------------- |
| ego pose         | /localization/kinematic_state                                        |
| 장애물              | simple sim의 ground truth |
| global waypoints | lanelet2 centerline 변환                                      |
| scaled waypoint  | 필요 시 custom topic                                                    |


### ForzaETH Planner 출력

| 출력                     | Autoware Control에서 필요? |
| ---------------------- | ---------------------- |
| 조향 목표 (steering angle) | Y                    |
| 속도 목표 (speed)          | Y                    |
