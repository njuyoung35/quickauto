- 사용법
- 개념 및 공부
    - 최주영의 경우 : nav2, interfaces
- 코딩
- 토론(4)

# 사용법에 익숙해지기

- 깃허브, 깃
- rviz2, ros2, launch파일, config.yaml (rviz), xacro(urdf) (f1tenth_gym_ros 따라가며)
    - rviz2 - Display 종류, 플러그인
- adp-repo에 공부한 거 및 토론, 주제 발의
- adp-repo-packages에는 dongjak-ws/src 하에 패키지 붙이기
- vcs .repos로 긁어오기:
    - nav2 : 기존 f1tenth, forzaETH 쪽에서는 맵 제외 부분에서는 nav2 안 쓴 걸로 보임. 되게 컴포넌트, 부분적으로만 채택하는 게 좋을 거라 보임..
    - https://index.ros.org/
    - f1tenth
    - forzaETH
    - 기타

# 알고리즘

- f1tenth_planning에 교과서에서 배운 플래너, 컨트롤러 있으니 코드 참고할 만 함

# 개념 좀 더 굳히기

- context, executor, node ?
- 메모리, 임베디드, init.yaml, 파라미터, 모니터링, 동적프로파일링 ?
- nav2의 역할은 ?
- https://wiki.ros.org/APIs
- interfaces (사실상 자료형의 우주)
    - geometry2
        - tf2_msgs
    - common_interfaces
        - common_interfaces
        - geometry_msgs
        - nav_msgs
        - sensor_msgs
        - shape_msgs
        - std_msgs
        - std_srvs
        - stereo_msgs
        - trajectory_msgs
        - visualization_msgs
    - rcl_interfaces
    - ID 시스템에 대한 디자인 고민. 이름에포함 vs 역통신 파라미터 문자열로 요구.
        - 토픽 이름에 공간 인코딩
            - 장점: 간단하고 예측 가능
            - 단점: 서버 메모리/CPU 부하, 불필요한 데이터 전송
        - 파라미터 기반 쿼리 시스템
            - 단점 : 1서버 : N클라이언트 관계 어려울 수 있음
            - 단순 문자열 말고 UTM같이 한정적일 경우 bitmask 가능할 것. (비트마스크 파라미터)
        - 하이브리드
        - 액션 기반 스트리밍?

# 토론 주제 (4)

## 우린 무엇을 보여주고자 원하는가?

- 한국의 동작구 내 벡터요소를 14개 라벨로 나누었을 때, 우리 차량은 잘 대응하는가?
    - 그 때 다른 차량의 주행 시나리오는 어떻게 구성되는가?
- 전역경로
- 지역경로
    - 상태머신, behavior tree 다루기에 nav2가 적합할 것으로 보인다.
- 컨트롤
- 인지
- 측위, 매핑 ?

## 어디까지 시각화 하고 디버깅 할 것인가?

- rviz (ogre + opengl) : 50000개 마커 감당 가능할 것
- 서울 강남구 10m당 마커 1개 가정 시 1500000 마커.
- 빅데이터를 담당하고 있는 노드는 어떤 형태가 되어야 하는가? 이것은 차량에 탑재되는 게 아니라, 관제센터, 엣지서버에 대응되어야 할 것인가?
- 아니면 지도 이미지에 벡터 의미론 정보를 박을 것인가?
- level of details 설명

## 벡터 요소 명세를 무엇에 기준 삼을 것인가?

### 데이터셋 뭐로?

- 국토교통부 정밀도로지도 14 label
- HDMap 관련 키워드 검색해서 나오는
- sumo .net.xml
- argoverse 2 : 미국 도심
    - 시나리오 제공
- 프로토타이핑 (네모 - 차선 - 신호등)

- 테스트 : 뼈 + 살
    - 표준노드링크 : 도형정보 (뼈)
    - 살정보 : 골목길, 세밀한 네트워크, 신호등, 14 label 요소 생성 덧붙이기
- 검증, 및 프리젠테이션 : 국토교통부

### 고려 할 것

- 점군(LiDar) 정보도 필요한가?
- 데이터 수집이 가능한가? (정적, 동적 api)
- 데이터셋 생성이 가능한가?
- nav2는 sensor + semantic data까지 처리 가능하다고 한다. 그걸 어떻게 써먹을 것인가?
    - sumo의 철학. 신호등 TL, 차량추종 모델, 특수 엣지 및 간선 디자인 목적
- 결국 그 걸로 자료구조, 스키마 꼴을 만들어서 우리 메시지 시스템에 대응시켜야 함.
- ID 시스템, 쿼리 등은 어떻게 구현되는가?
- 그 많은 정보를 어떻게 쪼개서 전달할 것인가? 자원적, 시간적, 컴퓨팅적으로 현실성 있는가?
    - 차량 입장에서는 전지적 지도보다는, 주행상, 자기의 경로상 주어지는 데이터가 중요할 것임.
- common_interfaces에서 제공하는 복잡한 자료구조 PointCloud2 같은건 단순 배열이 아니다. 메타데이터를 포함하고 raw bytes의 경우 encoding/decoding 내지 ser/de되어 있을 수 있으므로, 그걸 쓰는 구독자 입장에서 그걸 풀어 해석하는 boilerplate code가 들어가게 될 수도 있다.

### 중간 표현은 무엇에 해당해야 하는가?

- .shp .shx .dbf
- .net.xml (sumo)
- 별도 자료형

### 한국 its에서 제공하는 준정적~동적 데이터도 어디까지 처리할 것인가?

LDM (local dynamic map)

- 동적 : 차량 및 차량 주변 이동체
- 준동적 : 신호정보, 교통사고, 날씨정보 등
- 준정적 : 일시적 통제구간 등
- 정적 : 도로 형상(차선 등) 및 시설물

## 센서에 대하여 : LiDar 하나 가지고 되겠는가?

- ADAS sensor